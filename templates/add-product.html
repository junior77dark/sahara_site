<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SAHARA - Ajouter un nouveau produit - Interface fournisseur">
    <title>Ajouter un produit - SAHARA</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'style/principale/product-page.css' %}">
    <link rel="stylesheet" href="{% static 'style/principale/ajout-produit.css' %}">
</head>
<body>
    <!-- Header identique √† celui de l'accueil -->  
    <header>
        <div class="container header-container">
            <div class="mobile-menu-toggle" id="mobile-menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
            
            <div class="logo">
                <img src="assets/images/logo.png" alt="SAHARA Logo">
            </div>
            
            <nav class="main-nav">
                <a href="#accueil">Accueil</a>
                <div class="categories-dropdown" id="categories-dropdown">
                    <div class="categories-dropdown-btn" id="categories-btn">
                        Cat√©gories <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="categories-dropdown-content">
                        <a href="#high-tech"><span>üñ•Ô∏è</span> High-Tech</a>
                        <a href="#vetements"><span>üëï</span> V√™tements</a>
                        <a href="#decoration"><span>üè†</span> D√©coration</a>
                        <a href="#bijoux"><span>üíé</span> Bijoux</a>
                        <a href="#livres"><span>üìö</span> Livres</a>
                        <a href="#jeux"><span>üéÆ</span> Jeux/Jouets</a>
                        <a href="#cuisine"><span>üçΩÔ∏è</span> Cuisine</a>
                        <a href="#sport"><span>üèãÔ∏è</span> Sport/Loisirs</a>
                    </div>
                </div>
                <a href="#promotions">Promotions</a>
                <a href="#contact">Contact</a>
            </nav>
            
            <div class="header-icons">
                <a href="#profile" aria-label="Mon profil">
                    <i class="fas fa-user"></i>
                </a>
                <a href="#panier" class="cart-icon-container" aria-label="Mon panier" id="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-counter" id="cart-counter">0</span>
                </a>
            </div>
        </div>
    </header>
    
    <!-- Menu mobile -->
    <div class="mobile-menu" id="mobile-menu">
        <div class="mobile-menu-header">
            <div class="logo">
                <img src="assets/images/logo.png" alt="SAHARA Logo">
            </div>
            <button class="mobile-menu-close" id="mobile-menu-close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <nav class="mobile-nav">
            <a href="#accueil">Accueil</a>
            <div class="mobile-categories-toggle" id="mobile-categories-toggle">
                <a href="#categories">Cat√©gories</a>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="mobile-categories-submenu" id="mobile-categories-submenu">
                <a href="#high-tech"><span>üñ•Ô∏è</span> High-Tech</a>
                <a href="#vetements"><span>üëï</span> V√™tements</a>
                <a href="#decoration"><span>üè†</span> D√©coration</a>
                <a href="#bijoux"><span>üíé</span> Bijoux</a>
                <a href="#livres"><span>üìö</span> Livres</a>
                <a href="#jeux"><span>üéÆ</span> Jeux</a>
                <a href="#cuisine"><span>üçΩÔ∏è</span> Cuisine</a>
                <a href="#sport"><span>üèãÔ∏è</span> Sport</a>
            </div>
            <a href="#nouveautes">Nouveaut√©s</a>
            <a href="#promotions">Promotions</a>
            <a href="#contact">Contact</a>
            <a href="#login">Mon compte</a>
            <a href="#panier">Mon panier</a>
        </nav>
    </div>
    
    <!-- Barre de recherche -->
    <div class="search-bar-container">
        <div class="search-container-center">
            <input type="text" class="search-input-center" id="search-input-center" placeholder="Rechercher un produit..." aria-label="Rechercher un produit">
            <button class="search-btn-center" id="search-btn-center" aria-label="Rechercher">
                <i class="fas fa-search" aria-hidden="true"></i>
            </button>
        </div>
    </div>
    
    <!-- Fil d'Ariane -->
    <div class="breadcrumb-container">
        <div class="container">
            <nav class="breadcrumb">
                <a href="#accueil">Accueil</a>
                <span class="breadcrumb-separator"><i class="fas fa-chevron-right"></i></span>
                <a href="#fournisseur">Espace Fournisseur</a>
                <span class="breadcrumb-separator"><i class="fas fa-chevron-right"></i></span>
                <span class="breadcrumb-current">Ajouter un produit</span>
            </nav>
        </div>
    </div>
    
    <main>
        <!-- Section principale d'ajout de produit -->
        <section class="add-product-section">
            <div class="container">
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas fa-plus-circle"></i>
                        Ajouter un nouveau produit
                    </h1>
                    <p class="page-subtitle">Remplissez les informations ci-dessous pour ajouter votre produit au catalogue SAHARA</p>
                </div>
                
                <form class="add-product-form" id="add-product-form" method="post" action="{% url 'add_product' %}" enctype="multipart/form-data">
                    {% csrf_token %}
                    <!-- Section Informations g√©n√©rales -->
                    <div class="form-section">
                        <h2 class="section-title">
                            <i class="fas fa-info-circle"></i>
                            Informations g√©n√©rales
                        </h2>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="product-name" class="form-label">
                                    Nom du produit <span class="required">*</span>
                                </label>
                                <input type="text" id="product-name" name="nom" class="form-input" required placeholder="Ex: Smartphone Premium √âl√©gant" value="{{ request.POST.nom }}">
                            </div>
                            
                            <div class="form-group">
                                <label for="product-category" class="form-label">
                                    Cat√©gorie <span class="required">*</span>
                                </label>
                                <select id="product-category" name="categorie" class="form-select" required>
                                    <option value="">S√©lectionner une cat√©gorie</option>
                                    {% for cat in categories %}
                                        <option value="{{ cat.id }}" {% if request.POST.categorie == cat.id|stringformat:'s' %}selected{% endif %}>{{ cat.nom }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="product-price" class="form-label">
                                    Prix (FCFA) <span class="required">*</span>
                                </label>
                                <input type="number" id="product-price" name="prix" class="form-input" required placeholder="Ex: 899000" min="0" value="{{ request.POST.prix }}">
                            </div>
                            
                            <div class="form-group">
                                <label for="product-stock" class="form-label">
                                    Stock <span class="required">*</span>
                                </label>
                                <input type="number" id="product-stock" name="stock" class="form-input" required placeholder="Ex: 10" min="0" value="{{ request.POST.stock }}">
                            </div>
                            
                            <div class="form-group">
                                <label for="product-boutique" class="form-label">
                                    Boutique <span class="required">*</span>
                                </label>
                                <select id="product-boutique" name="boutique" class="form-select" required>
                                    <option value="">S√©lectionner une boutique</option>
                                    {% for boutique in boutiques %}
                                        <option value="{{ boutique.id }}" {% if request.POST.boutique == boutique.id|stringformat:'s' %}selected{% endif %}>{{ boutique.nom }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="product-description" class="form-label">
                                Description du produit <span class="required">*</span>
                            </label>
                            <textarea id="product-description" name="description" class="form-textarea" required rows="6" placeholder="D√©crivez votre produit en d√©tail : ses avantages, ses points forts, son utilisation...">{{ request.POST.description }}</textarea>
                        </div>
                    </div>
                    
                    <!-- Section Caract√©ristiques techniques -->
                    <div class="form-section">
                        <h2 class="section-title">
                            <i class="fas fa-cogs"></i>
                            Caract√©ristiques techniques
                        </h2>
                        
                        <div class="characteristics-container" id="characteristics-container">
                            <div class="characteristic-item">
                                <div class="form-group">
                                    <label class="form-label">Nom de la caract√©ristique</label>
                                    <input type="text" class="form-input characteristic-name" placeholder="Ex: √âcran">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Valeur</label>
                                    <input type="text" class="form-input characteristic-value" placeholder="Ex: 6.7 pouces OLED">
                                </div>
                                <button type="button" class="btn-remove-characteristic" title="Supprimer cette caract√©ristique">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        
                        <button type="button" class="btn btn-secondary" id="add-characteristic">
                            <i class="fas fa-plus"></i>
                            Ajouter une caract√©ristique
                        </button>
                    </div>
                    
                    <!-- Section Photos du produit -->
                    <div class="form-section">
                        <h2 class="section-title">
                            <i class="fas fa-images"></i>
                            Photos du produit
                        </h2>
                        
                        <div class="photos-container">
                            <!-- Photo principale -->
                            <div class="photo-upload-section">
                                <h3 class="photo-section-title">Photo principale <span class="required">*</span></h3>
                                <div class="photo-upload-area main-photo" id="main-photo-upload">
                                    <div class="upload-placeholder">
                                        <i class="fas fa-camera"></i>
                                        <p>Cliquez pour ajouter la photo principale</p>
                                        <span class="upload-hint">Format recommand√©: JPG, PNG (max 5MB)</span>
                                    </div>
                                    <input type="file" id="main-photo-input" name="main_photo" accept="image/*" required>
                                    <div class="photo-preview" id="main-photo-preview" style="display: none;">
                                        <img src="" alt="Photo principale">
                                        <button type="button" class="btn-remove-photo">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Photos suppl√©mentaires -->
                            <div class="photo-upload-section">
                                <h3 class="photo-section-title">Photos suppl√©mentaires (jusqu'√† 4)</h3>
                                <div class="additional-photos-grid" id="additional-photos-grid">
                                    {% for i in "1234" %}
                                    <div class="photo-upload-area additional-photo" data-index="{{ forloop.counter0 }}">
                                        <div class="upload-placeholder">
                                            <i class="fas fa-plus"></i>
                                            <p>Photo {{ forloop.counter }}</p>
                                        </div>
                                        <input type="file" name="additional_photos" accept="image/*">
                                        <div class="photo-preview" style="display: none;">
                                            <img src="" alt="Photo suppl√©mentaire">
                                            <button type="button" class="btn-remove-photo">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Boutons d'action -->
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="preview-product">
                            <i class="fas fa-eye"></i>
                            Pr√©visualiser
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            Enregistrer le produit
                        </button>
                    </div>
                </form>
            </div>
        </section>
    </main>
    
    <!-- Footer identique √† celui de l'accueil -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h3>√Ä propos</h3>
                    <ul>
                        <li><a href="#">Notre histoire</a></li>
                        <li><a href="#">Nos valeurs</a></li>
                        <li><a href="#">Nos engagements</a></li>
                        <li><a href="#">Carri√®res</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Service client</h3>
                    <ul>
                        <li><a href="#">Contactez-nous</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Livraison & Retours</a></li>
                        <li><a href="#">Conditions g√©n√©rales</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Mon compte</h3>
                    <ul>
                        <li><a href="#">Connexion</a></li>
                        <li><a href="#">Inscription</a></li>
                        <li><a href="#">Historique des commandes</a></li>
                        <li><a href="#">Liste de souhaits</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Newsletter</h3>
                    <p>Inscrivez-vous pour recevoir nos offres exclusives</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Votre email" required>
                        <button type="submit" class="btn btn-primary">S'INSCRIRE</button>
                    </form>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2025 SAHARA. Tous droits r√©serv√©s.</p>
            </div>
        </div>
    </footer>
    
    <!-- Modal de pr√©visualisation -->
    <div class="modal" id="preview-modal">
        <div class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Pr√©visualisation du produit</h3>
                    <button class="modal-close" id="close-preview">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body" id="preview-content">
                    <!-- Le contenu de pr√©visualisation sera g√©n√©r√© ici -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notification toast -->
    <div class="toast" id="toast">
        <div class="toast-content">
            <i class="fas fa-check-circle"></i>
            <span class="toast-message">Action r√©alis√©e avec succ√®s !</span>
        </div>
    </div>
    
    <script src="{% static 'script/product-page.js' %}"></script>
    <script src="{% static 'script/ajout-produit.js' %}"></script>
</body>
</html>

